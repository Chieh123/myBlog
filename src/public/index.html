<!-- index.html -->
<!doctype html>
<!-- ASSIGN OUR ANGULAR MODULE -->
<html ng-app="myBlogArticles">
<head>
  <!-- META -->
  <meta charset="utf-8">
  <!-- Optimize mobile viewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>My Blog</title>
  <!-- SCROLLS -->
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bo
  \otstrap.min.css"><!-- load bootstrap -->
  <style>
    html                    { overflow-y:scroll; }
    body                    { padding-top:50px; }
    #article-list              { margin-bottom:30px; }
  </style>
  <!-- SPELLS -->
  <script src="//cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script><!-- load jquery -->
  <script src="//lib.sinaapp.com/js/angular.js/angular-1.2.19/angular.min.js"></script><!-- load angular -->
  <script src="core.js"></script>
</head>
<!-- SET THE CONTROLLER AND GET ALL TODOS -->
<body ng-controller="mainController">
  <div class="container">
    <!-- HEADER AND TODO COUNT -->
    <div class="jumbotron text-center">
      <h1>Article List <span class="label label-info"></span></h1>
    </div>
    <div>
      <table>
        <thead>
          <tr>
            <th ng-if="submit">Title</th>
            <th ng-if="edit">Title</th>
            <th>Author</th>
            <th ng-if="edit">Content</th>
            <th>post date</th>
            <th>modify date</th>
            <th ng-if="submit">detail</th>
            <th ng-if="edit">edit</th>
            <th>delete</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="article in articles | orderBy : 'mDate'">
            <form>
              <td ng-if="submit">{{ article.Title }}</td>
              <td ng-if="edit" ><input type="text" class="form-control input-lg text-center" placeholder="{{ article.Title }}" ng-model="formData.title" ng-init = "formData.title = {{ article.Title }}"></td>
              <td>{{ article.Author }}</td>
              <td ng-if="edit"><input type="text" class="form-control input-lg text-center" placeholder="{{ article.Content }}" ng-model="formData.content"></td>
              <td>{{article.pDate}}</td>
              <td>{{article.mDate}}</td>
              <td ng-if="submit"><button type="button" ng-click="specificArticle(article._id)" ng-model="edit"> detail </button></td>
              <td ng-if="edit"><button type="submit" class="btn btn-primary btn-lg" ng-click="editArticle(article._id)">Edit</button></td>
              <td><button type="button" ng-click="deleteArticle(article._id)"> delete </button></td>
            </form>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="jumbotron text-center">
      <h2>articles <span class="label label-info">{{ articles.length }}</span></h2>
      <button ng-if="edit" ng-click="getArticles()">Article List</button>
    </div>
    <!-- FORM TO CREATE TODOS -->
    <div id="article-form" class="row">
      <div class="col-sm-8 col-sm-offset-2 text-center">
        <form ng-if="submit">
          <div class="form-group">
            <!-- BIND THIS VALUE TO formData.text IN ANGULAR -->
            <input type="text" class="form-control input-lg text-center" placeholder = 'title' ng-model="formData.title"  ng-required = "formData.title">
            <input type="text" class="form-control input-lg text-center" placeholder = 'author' ng-model="formData.author" ng-init = "formData.author = 'anonymous'" required = "formData.author">
            <input type="text" class="form-control input-lg text-center" placeholder = 'content' ng-model="formData.content" ng-init = "formData.content = ' '" >
          </div>
            <!-- createToDo() WILL CREATE NEW TODOS -->
            <button ng-if="edit" type="submit" class="btn btn-primary btn-lg" ng-click="editArticle("")">Edit</button>
            <button type="submit" class="btn btn-primary btn-lg" ng-click="postArticle()">Submit</button>
        </form>
      </div>
    </div>
  </div>
</body>
</html>
